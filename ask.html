<script>
    const apiUrl = "https://index-fnnc.onrender.com"; // Backend server URL

    function loadQuestions() {
        fetch(`${apiUrl}/questions`)
            .then(response => response.json())
            .then(data => {
                let responsesContainer = document.getElementById('responses');
                responsesContainer.innerHTML = '';

                data.forEach((response) => {
                    let div = document.createElement('div');
                    div.classList.add('response');
                    div.innerHTML = `
                        <strong>${response.username} (Asked on ${response.date}):</strong>
                        <p>${response.question}</p>
                        <strong>Response:</strong>
                        <p>${response.answer || 'No response yet'}</p>
                    `;
                    responsesContainer.appendChild(div);
                });
            });
    }

    document.getElementById('ask-button').addEventListener('click', function () {
        let username = document.getElementById('username').value;
        let question = document.getElementById('question').value;

        if (username && question) {
            fetch(`${apiUrl}/questions`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ username, question })
            })
                .then(() => {
                    document.getElementById('username').value = '';
                    document.getElementById('question').value = '';
                    loadQuestions();
                });
        }
    });

    loadQuestions();
</script>



